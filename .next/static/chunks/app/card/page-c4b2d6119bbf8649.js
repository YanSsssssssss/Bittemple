(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[437],{4876:(e,t,a)=>{Promise.resolve().then(a.bind(a,2429))},6016:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=[{id:"wenshu",image:"/wenshu.jpg",name:"文殊菩萨",desc:"七佛之师 手持慧剑 破愚痴暗",power:"学业有成 智慧无量"},{id:"puxian",image:"/puxian.jpg",name:"普贤菩萨",desc:"行深愿广 显无尽行门",power:"事业有成 节节高升"},{id:"rulai",image:"/rulai.png",name:"大日如来",desc:"密宗至高 佛之根本",power:"身心光明 福慧双修"},{id:"mingwang",image:"/budongmingwang.jpg",name:"不动明王",desc:"护持佛法破魔障 忿眉怒目慈悲心",power:"驱祸避灾 邪祟不侵"},{id:"xukongzang",image:"/xukongzang.jpg",name:"虚空藏菩萨",desc:"藏德如空 济度众生",power:"福德无限 财源广进"},{id:"emituofo",image:"/emituofo.jpg",name:"阿弥陀佛",desc:"极乐之主 普度众生",power:"平安吉祥 福寿绵长"}]},2429:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ea});var n=a(5155),r=a(5565),s=a(2115),i=a(3463),l=a(9795);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,i.$)(t))}let c=(0,s.createContext)(void 0),d=e=>{let{children:t,className:a,containerClassName:r}=e,i=(0,s.useRef)(null),[l,d]=(0,s.useState)(!1);return(0,n.jsx)(c.Provider,{value:[l,d],children:(0,n.jsx)("div",{className:o("py-20 flex items-center justify-center",r),style:{perspective:"1000px"},children:(0,n.jsx)("div",{ref:i,onMouseEnter:()=>{if(d(!0),!i.current)return},onMouseMove:e=>{if(!i.current)return;let{left:t,top:a,width:n,height:r}=i.current.getBoundingClientRect(),s=(e.clientX-t-n/2)/25,l=(e.clientY-a-r/2)/25;i.current.style.transform="rotateY(".concat(s,"deg) rotateX(").concat(l,"deg)")},onMouseLeave:()=>{i.current&&(d(!1),i.current.style.transform="rotateY(0deg) rotateX(0deg)")},className:o("flex items-center justify-center relative transition-all duration-200 ease-linear",a),style:{transformStyle:"preserve-3d"},children:t})})})},u=e=>{let{children:t,className:a}=e;return(0,n.jsx)("div",{className:o("h-96 w-96 [transform-style:preserve-3d]  [&>*]:[transform-style:preserve-3d]",a),children:t})},m=e=>{let{as:t="div",children:a,className:r,translateX:i=0,translateY:l=0,translateZ:c=0,rotateX:d=0,rotateY:u=0,rotateZ:m=0}=e,p=(0,s.useRef)(null),[f]=x();(0,s.useEffect)(()=>{h()},[f]);let h=()=>{p.current&&(f?p.current.style.transform="translateX(".concat(i,"px) translateY(").concat(l,"px) translateZ(").concat(c,"px) rotateX(").concat(d,"deg) rotateY(").concat(u,"deg) rotateZ(").concat(m,"deg)"):p.current.style.transform="translateX(0px) translateY(0px) translateZ(0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg)")};return(0,n.jsx)(t,{ref:p,className:o("w-fit transition duration-200 ease-linear",r),children:a})},x=()=>{let e=(0,s.useContext)(c);if(void 0===e)throw Error("useMouseEnter must be used within a MouseEnterProvider");return e};var p=a(6016),f=a(4058),h=a(6927),g=a(2041),v=a(4113),y=a(6943),b=a(2386),w=a(8982),j=a(582),k=a(2818);let N=new y.FR("https://eth-sepolia.g.alchemy.com/v2/CgIS8gBoKOp3atEMXs4ZhEwuJVdFiAU0"),M=k.env.PRIVATE_KEY||"",z=new b.u(M,N),E="0x9AB674C725cD95E2211191B297cc54f94089BfA1",P=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"text",type:"string"},{indexed:!1,internalType:"string",name:"nickname",type:"string"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"sender",type:"address"}],name:"NewMsgSubmit",type:"event"},{inputs:[{internalType:"string",name:"text",type:"string"},{internalType:"string",name:"nickname",type:"string"}],name:"submit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"msgCount",type:"uint16"}],name:"getMsgList",outputs:[{components:[{internalType:"string",name:"content",type:"string"},{internalType:"address",name:"sender",type:"address"},{internalType:"string",name:"nickname",type:"string"},{internalType:"uint256",name:"time",type:"uint256"}],internalType:"struct MsgBoard.Message[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"Messages",outputs:[{internalType:"string",name:"content",type:"string"},{internalType:"address",name:"sender",type:"address"},{internalType:"string",name:"nickname",type:"string"},{internalType:"uint256",name:"time",type:"uint256"}],stateMutability:"view",type:"function"}],_=new w.NZ(E,P,z);async function T(){try{let e=await _.getMsgList(1);return[{text:"ขอให้พระพุทธเจ้าคุ้มครองให้ฉันมีความสุขและปลอดภัยตลอดปีนี้  ",address:"0x...1AB",nickname:"สมศักดิ์ ",time:23121},{text:"今年は仏様のご加護で、無事で平和な年になりますように",address:"0x...BS1",nickname:"山田西瓜郎",time:212121},{text:"文殊菩萨在上，保佑我今年考试顺利通过",address:"0x...213",nickname:"一名学渣",time:0x143f869},{text:"文殊菩萨，你的狮子坐骑在狮驼岭当山大王呢啊！",address:"0x...310",nickname:"孙行者",time:0x146e411},{text:"普贤菩萨，吾儿红孩儿可还好啊",address:"0x..OX3",nickname:"牛魔王",time:0x143fde1},{text:"不动明王様、どうか私と私の家族を守り、今年も無事で幸せでありますように",address:"0x...DD0",nickname:"tom",time:0x1444c01}].concat(e.map(e=>({text:e[0],address:"0x...".concat(e[1].slice(39)),nickname:e[2],time:Number(e[3])})))}catch(e){return console.error("Error:",e),[]}}async function S(e,t){try{if(!window.ethereum)throw Error("MetaMask not detected. Please install MetaMask.");let a=await window.ethereum.request({method:"eth_requestAccounts"});if(0===a.length)throw Error("No accounts available in MetaMask.");let n=new j.k(window.ethereum),r=await n.getSigner(),s=new w.NZ(E,P,r),i=await s.submit(e,t);await i.wait(),console.log("Message submitted successfully:",i)}catch(e){console.error("Error:",e)}}let C={type:"spring",bounce:.1,duration:.4},F=(0,s.createContext)(void 0);function A(){let e=(0,s.useContext)(F);if(!e)throw Error("useFloatingPanel must be used within a FloatingPanelProvider");return e}function D(e){let{children:t,className:a}=e,r=function(){let e=(0,s.useId)(),[t,a]=(0,s.useState)(!1),[n,r]=(0,s.useState)(""),[i,l]=(0,s.useState)(null),[o,c]=(0,s.useState)("");return{isOpen:t,openFloatingPanel:e=>{l(e),a(!0)},closeFloatingPanel:()=>{a(!1),r("")},uniqueId:e,note:n,setNote:r,triggerRect:i,title:o,setTitle:c}}();return(0,n.jsx)(F.Provider,{value:r,children:(0,n.jsx)(h.x,{transition:C,children:(0,n.jsx)("div",{className:$("relative",a),children:t})})})}function B(e){let{children:t,className:a,title:r}=e,{openFloatingPanel:i,uniqueId:l,setTitle:o}=A(),c=(0,s.useRef)(null);return(0,n.jsx)(g.P.button,{ref:c,layoutId:"floating-panel-trigger-".concat(l),className:$("flex h-9 items-center border border-zinc-950/10 bg-white px-3 text-zinc-950 dark:border-zinc-50/10 dark:bg-zinc-700 dark:text-zinc-50",a),style:{borderRadius:8},onClick:()=>{c.current&&(i(c.current.getBoundingClientRect()),o(r))},whileHover:{scale:1.05},whileTap:{scale:.95},"aria-haspopup":"dialog","aria-expanded":!1,children:(0,n.jsx)(g.P.div,{layoutId:"floating-panel-label-container-".concat(l),className:"flex items-center",children:(0,n.jsx)(g.P.span,{layoutId:"floating-panel-label-".concat(l),className:"text-sm font-semibold",children:t})})})}function R(e){let{children:t,className:a}=e,{isOpen:r,closeFloatingPanel:i,uniqueId:l,triggerRect:o,title:c}=A(),d=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e=e=>{d.current&&!d.current.contains(e.target)&&i()};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[i]),(0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&i()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i]),(0,n.jsx)(v.N,{children:r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.P.div,{initial:{backdropFilter:"blur(0px)"},animate:{backdropFilter:"blur(4px)"},exit:{backdropFilter:"blur(0px)"},className:"fixed inset-0 z-40"}),(0,n.jsxs)(g.P.div,{ref:d,layoutId:"floating-panel-".concat(l),className:$("fixed z-50 overflow-hidden border border-zinc-950/10 bg-white shadow-lg outline-none dark:border-zinc-50/10 dark:bg-zinc-800",a),style:{borderRadius:12,left:o?o.left-140:"50%",top:o?o.bottom+8:"50%",transformOrigin:"top right"},initial:"hidden",animate:"visible",exit:"hidden",variants:{hidden:{opacity:0,scale:.9,y:10},visible:{opacity:1,scale:1,y:0}},role:"dialog","aria-modal":"true","aria-labelledby":"floating-panel-title-".concat(l),children:[(0,n.jsx)(I,{children:c}),t]})]})})}function I(e){let{children:t}=e,{uniqueId:a}=A();return(0,n.jsx)(g.P.div,{layoutId:"floating-panel-label-container-".concat(a),className:"px-4 py-2 bg-white dark:bg-zinc-800",children:(0,n.jsx)(g.P.div,{layoutId:"floating-panel-label-".concat(a),className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",id:"floating-panel-title-".concat(a),children:t})})}function Z(e){let{children:t,onSubmit:a,className:r}=e,{note:s,closeFloatingPanel:i}=A();return(0,n.jsx)("form",{className:$("flex h-full flex-col",r),onSubmit:e=>{e.preventDefault(),null==a||a(s),i()},children:t})}function X(e){let{className:t,id:a}=e,{note:r,setNote:s}=A();return(0,n.jsx)("textarea",{id:a,className:$("h-full w-full resize-none rounded-md bg-transparent px-4 py-3 text-sm outline-none",t),autoFocus:!0,value:r,onChange:e=>s(e.target.value)})}function q(e){let{children:t,className:a}=e;return(0,n.jsx)(g.P.div,{className:$("p-4",a),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:t})}function L(e){let{children:t,className:a}=e;return(0,n.jsx)(g.P.div,{className:$("flex justify-between px-4 py-3",a),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:t})}function O(e){let{className:t}=e,{closeFloatingPanel:a}=A();return(0,n.jsx)(g.P.button,{type:"button",className:$("flex items-center",t),onClick:a,"aria-label":"Close floating panel",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,n.jsx)(f.A,{size:16,className:"text-zinc-900 dark:text-zinc-100"})})}function Y(e){let{className:t}=e;return(0,n.jsx)(g.P.button,{className:$("relative ml-1 flex h-8 shrink-0 scale-100 select-none appearance-none items-center justify-center rounded-lg border border-zinc-950/10 bg-transparent px-2 text-sm text-zinc-500 transition-colors hover:bg-zinc-100 hover:text-zinc-800 focus-visible:ring-2 active:scale-[0.98] dark:border-zinc-50/10 dark:text-zinc-50 dark:hover:bg-zinc-800",t),type:"submit","aria-label":"Submit note",whileHover:{scale:1.05},whileTap:{scale:.95},children:"提交"})}function H(){return(0,n.jsxs)(D,{children:[(0,n.jsx)(B,{title:"许个愿吧 \uD83D\uDE4F\uD83C\uDFFB",className:"flex items-center space-x-2 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:(0,n.jsx)("span",{children:"许个愿吧 \uD83D\uDE4F\uD83C\uDFFB"})}),(0,n.jsx)(R,{className:"w-80",children:(0,n.jsxs)(Z,{onSubmit:e=>{S(e,"anonymous")},children:[(0,n.jsx)(q,{children:(0,n.jsx)(X,{id:"note-input",className:"min-h-[100px]"})}),(0,n.jsxs)(L,{children:[(0,n.jsx)(O,{}),(0,n.jsx)(Y,{})]})]})})]})}function Q(){return(0,n.jsx)("div",{className:"p-8 space-y-8",children:(0,n.jsx)("div",{className:"flex flex-col md:flex-row flex-wrap gap-4",children:(0,n.jsx)(H,{})})})}function $(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,i.$)(t))}var J=a(6046);function K(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,i.$)(t))}let U=s.forwardRef((e,t)=>{let{shimmerColor:a="#ffffff",shimmerSize:r="0.05em",shimmerDuration:s="3s",borderRadius:i="100px",background:l="rgba(0, 0, 0, 1)",className:o,children:c,...d}=e;return(0,n.jsxs)("button",{style:{"--spread":"90deg","--shimmer-color":a,"--radius":i,"--speed":s,"--cut":r,"--bg":l},className:K("group relative z-0 flex cursor-pointer items-center justify-center overflow-hidden whitespace-nowrap border border-white/10 px-6 py-3 text-white [background:var(--bg)] [border-radius:var(--radius)] dark:text-black","transform-gpu transition-transform duration-300 ease-in-out active:translate-y-px",o),ref:t,...d,children:[(0,n.jsx)("div",{className:K("-z-30 blur-[2px]","absolute inset-0 overflow-visible [container-type:size]"),children:(0,n.jsx)("div",{className:"absolute inset-0 h-[100cqh] animate-shimmer-slide [aspect-ratio:1] [border-radius:0] [mask:none]",children:(0,n.jsx)("div",{className:"absolute -inset-full w-auto rotate-0 animate-spin-around [background:conic-gradient(from_calc(270deg-(var(--spread)*0.5)),transparent_0,var(--shimmer-color)_var(--spread),transparent_var(--spread))] [translate:0_0]"})})}),c,(0,n.jsx)("div",{className:K("insert-0 absolute size-full","rounded-2xl px-4 py-1.5 text-sm font-medium shadow-[inset_0_-8px_10px_#ffffff1f]","transform-gpu transition-all duration-300 ease-in-out","group-hover:shadow-[inset_0_-6px_10px_#ffffff3f]","group-active:shadow-[inset_0_-10px_10px_#ffffff3f]")}),(0,n.jsx)("div",{className:K("absolute -z-20 [background:var(--bg)] [border-radius:var(--radius)] [inset:var(--cut)]")})]})});U.displayName="ShimmerButton";let V=e=>{let{address:t,nickname:a,text:r}=e,s=["https://avatar.vercel.sh/jack","https://avatar.vercel.sh/jill","https://avatar.vercel.sh/john","https://avatar.vercel.sh/jane"];return(0,n.jsxs)("figure",{className:ee("relative h-full w-64 cursor-pointer overflow-hidden rounded-xl border p-6","border-gray-950/[.1] bg-gray-950/[.01] hover:bg-gray-950/[.05]","dark:border-gray-50/[.1] dark:bg-gray-50/[.10] dark:hover:bg-gray-50/[.15]"),children:[(0,n.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,n.jsx)("img",{className:"rounded-full",width:"32",height:"32",src:s[Math.floor(Math.random()*s.length)],suppressHydrationWarning:!0}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("figcaption",{className:"text-sm font-medium dark:text-white",children:a}),(0,n.jsx)("p",{className:"text-xs font-medium dark:text-white/40",children:t})]})]}),(0,n.jsx)("blockquote",{className:"mt-2 text-sm",children:r})]})};function W(){let[e,t]=(0,s.useState)([{text:"Hello, World!",address:"0x...001",nickname:"User1",time:0x64f0256a}]);(0,s.useEffect)(()=>{!async function(){t(await T())}()},[]);let a=e.slice(0,e.length/2),r=e.slice(e.length/2);return(0,n.jsxs)("div",{className:"relative flex h-[500px] w-full flex-row items-center justify-center overflow-hidden",children:[(0,n.jsx)(G,{pauseOnHover:!0,vertical:!0,className:"[--duration:20s]",children:a.map(e=>(0,n.jsx)(V,{...e},e.time))}),(0,n.jsx)(G,{reverse:!0,pauseOnHover:!0,vertical:!0,className:"[--duration:20s]",children:r.map(e=>(0,n.jsx)(V,{...e},e.time))}),(0,n.jsx)("div",{className:"pointer-events-none absolute inset-x-0 top-0 h-1/4 bg-gradient-to-b from-background"}),(0,n.jsx)("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-1/4 bg-gradient-to-t from-background"})]})}function G(e){let{className:t,reverse:a=!1,pauseOnHover:r=!1,children:s,vertical:i=!1,repeat:l=4,...o}=e;return(0,n.jsx)("div",{...o,className:ee("group flex overflow-hidden p-2 [--duration:40s] [--gap:1rem] [gap:var(--gap)]",{"flex-row":!i,"flex-col":i},t),children:Array(l).fill(0).map((e,t)=>(0,n.jsx)("div",{className:ee("flex shrink-0 justify-around [gap:var(--gap)]",{"animate-marquee flex-row":!i,"animate-marquee-vertical flex-col":i,"group-hover:[animation-play-state:paused]":r,"[animation-direction:reverse]":a}),children:s},t))})}function ee(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,i.$)(t))}function et(){let[e,t]=(0,s.useState)(!1),a=(0,J.useSearchParams)().get("id"),i=p.A.find(e=>e.id===a);if(!i)return null;let l=async()=>{if(void 0===window.ethereum){alert("请先安装 MetaMask 插件，请安装后刷新页面，并确保 MetaMask 已连接到本地链");return}try{let e=await window.ethereum.request({method:"eth_requestAccounts"});console.log(JSON.stringify(e)),localStorage.setItem("walletAddress",e[0]),t(!0)}catch(e){console.log(e),alert("metaMask连接失败:")}};return(0,n.jsxs)("div",{className:"h-screen fixed top-0 left-40",children:[(0,n.jsx)(d,{className:"inter-var",children:(0,n.jsxs)(u,{className:"bg-gray-50 relative group/card dark:hover:shadow-2xl dark:hover:shadow-emerald-500/[0.1] dark:bg-black dark:border-white/[0.2] border-black/[0.1] w-auto sm:w-[30rem] h-auto rounded-xl p-6 border",children:[(0,n.jsx)(m,{translateZ:"50",className:"text-xl font-bold text-neutral-600 dark:text-white",children:i.name}),(0,n.jsx)(m,{as:"p",translateZ:"60",className:"text-neutral-500 text-sm max-w-sm mt-2 dark:text-neutral-300",children:i.desc}),(0,n.jsx)(m,{translateZ:"100",className:"w-full mt-4",children:(0,n.jsx)(r.default,{src:i.image,height:"1000",width:"1000",className:"h-full w-full object-cover rounded-xl group-hover/card:shadow-xl transition-opacity duration-500 ease-in-out",alt:"thumbnail"})}),(0,n.jsx)("div",{className:"flex justify-between items-center mt-20",children:(0,n.jsx)("div",{className:"text-m font-normal dark:text-white",children:i.power})})]})}),(0,n.jsx)("div",{className:"fixed top-20 right-20 p-4",children:(0,n.jsx)(W,{})}),(0,n.jsx)("div",{className:"fixed top-0 right-14 p-4",children:e?(0,n.jsx)(Q,{}):(0,n.jsx)(U,{className:"shadow-2xl",onClick:l,children:(0,n.jsx)("span",{className:"whitespace-pre-wrap text-center text-sm font-xs leading-none tracking-tight text-white dark:from-white dark:to-slate-900/10 lg:text-lg",children:"试试连接 MetaMask"})})})]})}function ea(){return(0,n.jsx)(s.Suspense,{fallback:(0,n.jsx)("div",{children:"Loading..."}),children:(0,n.jsx)(et,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[785,475,441,517,358],()=>t(4876)),_N_E=e.O()}]);